











## 登录

1. ~~账户名不能相同~~
2. `src\pages\user\Login\index.tsx` 并非所有代码路径都返回值。 === ts告警
1. ~~刷新时候回到登录页~~
4. 登录还有密码显示
5. `/detail/:id` 返回的没有返回具体的数据



### 个人设置页面

1. ~~首次提交时电话号码为数组报错~~
2. 修改电话时候前台进行格式验证
3. 上传头像暂时后端设置为不需要token（后期是可以上传data）<img src="https://img2018.cnblogs.com/blog/781464/201903/781464-20190308154100848-454222670.png" alt="img" style="zoom:50%;" />



### ems前端

1. ~~更新表单需要传递id~~
2. 修改状态
3. ~~批量删除失败时，提示错误。~~
4. 所有的资源更新暂时都不能修改username

### ems后端

1. ~~获取用户详细信息？本人读取？他人读取？~~操作层次理解错误，应该在modules层次处理
   1. token？×
   2. query？√
   3. 加一个参数？×

2. 所有getList和details接口都会返回用户密码，哈哈哈暂时先不管



### fd前台

1. info获取信息时候报错welcome
2. ~~左侧导航栏初始化的时候没有箭头标识~~
3. 异常页面默认显示layout



### 待优化

- 前端token暂时先存在本地，可以每次请求都进行权限判断

- ~~token存在时不能回退到登录页~~

- name同名后面自动累加

- ~~ems前端响应拦截全局配置~~

- ~~整理七牛云下的文件~~

- ~~征询意见表单选择时间ProFormDateRangePicker，暂时不能选时间，只能选日期~~

- ~~上传文件预览弹窗~~

- 优化上传与提交表单流程，同步文件名和意见名称

- ~~创建？创建并发布？~~ 批量发布功能、批量删除确认框

- 暂时不做分页， ems所有的管理页面，fd的详情列表

- 所有接口服务判空问题，暂时所有前端做限定，后端先不做

- ~~decode直接获取解码后的信息，而不是每次去获取token~~

- 修改用户信息时，用户名也不能重复

- 新建导入供应商

- 资源更新时支持重新文件上传

- 接口白名单

- 公告：征询意见不需要倒计时

- 分页

- 答辩ppt可以添加展望与优化，讲讲限定验证统一信用代码和身份证与姓名的验证

  



## 需求

1. 文档在线编辑（难）
2. 征询意见添加评论功能
3. 前后台用户注册时都需要设置密保问题用于改密验证，常用IP地址
4. 后台登录页添加找回密码功能、个人设置添加修改密码功能







##  注意

1. 后端所有的创建都不能直接获取create返回的结果值， 可以重新通过findOne去获取。如果使用findAll获取的data是一个数组，可以用forEach进行处理
2. findOne获取 `ret['username']`获取值，但是不能直接赋值。赋值不会报错，但是不生效。一个接口只能返回查询到的字段，不要添加额外的字段。
3. 除了返回结果以外的数据可以通过`   ctx.set("token", token);`设置响应头的方式=》但是前端返回的结果不知怎么读取响应头
4. 